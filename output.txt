# inconsistency model
    # fixed effects model
    model{                      # *** PROGRAM STARTS
                          
      for(i in 1:ns){             # LOOP THROUGH STUDIES
        for (k in 1:na[i])  {   # LOOP THROUGH ARMS
          rhat[i,k] <- p[i,k] * n[i,k] # expected value of the numerators
    dev[i,k] <- 2 * (r[i,k] * (log(r[i,k])-log(rhat[i,k])) #Deviance contribution
    + (n[i,k]-r[i,k]) * (log(n[i,k]-r[i,k]) - log(n[i,k]-rhat[i,k])))
          logit(p[i,k]) <- mu[i] + d[t[i,1],t[i,k]]+ (beta[t[i,k]]-beta[t[i,1]])*(x[i,k])
          r[i,k] ~ dbin(p[i,k],n[i,k]) # binomial likelihood
          }
          resdev[i]<-sum(dev[i,1:na[i]]) 
      }
        totresdev<-sum(resdev[])
        for (k in 1:nt){d[k,k]<-0}  #set effects of k vs k to zero
        for(i in 1:ns){
                               mu[i] ~ dnorm(0,(1.41909007688579*15)^(-2))
                               }

        for (c in 1:(nt-1)) {
                           for (k in (c+1):nt)  { 
                           d[c,k] ~ dnorm(0,(1.41909007688579*15)^(-2))
                           } 
    }  

      }
      

# Treatment key
# 1: 02
# 2: 01
# 3: 03
# 4: 04
# 5: 05
# 6: 06
# 7: 07
# 8: 08
# 9: 09
# 10: 10
# 11: 11
# 12: 12
# 13: 13
# 14: 14
# 15: 15
# 16: 16
# 17: 17

